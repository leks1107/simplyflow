(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6109:function(e,t,r){Promise.resolve().then(r.bind(r,4855))},4855:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(7437),n=r(2265),a=r(7648),i=r(1900),l=r(8711),o=r(6334),c=r(757),d=r(2746),u=e=>{let{route:t,onDelete:r}=e;return(0,s.jsx)(c.Zb,{className:"hover:shadow-md transition-shadow",children:(0,s.jsx)(c.aY,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.name}),(0,s.jsx)(l.C,{variant:"active"===t.status?"success":"default",size:"sm",children:t.status})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md",children:[(0,s.jsx)("span",{className:"text-lg",children:(0,d.jx)(t.source)}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.source})]}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md",children:[(0,s.jsx)("span",{className:"text-lg",children:(0,d.MG)(t.target)}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.target})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.config.filters.length>0&&(0,s.jsxs)(l.C,{variant:"info",size:"sm",children:[t.config.filters.length," filter",1!==t.config.filters.length?"s":""]}),t.config.required_fields.length>0&&(0,s.jsxs)(l.C,{variant:"warning",size:"sm",children:[t.config.required_fields.length," required field",1!==t.config.required_fields.length?"s":""]}),t.config.duplicate_check_field&&(0,s.jsx)(l.C,{variant:"default",size:"sm",children:"Duplicate check"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,s.jsxs)("p",{children:["Created ",(0,d.SY)(t.created_at)]}),(0,s.jsxs)("p",{className:"font-mono text-xs mt-1 truncate",children:["ID: ",t.id]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,s.jsx)(a.default,{href:"/route/".concat(t.id),children:(0,s.jsx)(o.z,{variant:"outline",size:"sm",className:"w-full",children:"View"})}),r&&(0,s.jsx)(o.z,{variant:"danger",size:"sm",onClick:()=>{r&&window.confirm("Are you sure you want to delete this route?")&&r(t.id)},className:"w-full",children:"Delete"})]})]})})})};function h(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{h()},[]);let h=async()=>{try{l(!0);let e=await (0,i.sQ)();t(e)}catch(e){d(e instanceof Error?e.message:"Failed to load routes")}finally{l(!1)}},m=r=>{t(e.filter(e=>e.id!==r))};return r?(0,s.jsx)("div",{className:"container py-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"loading-spinner"})})}):c?(0,s.jsx)("div",{className:"container py-8",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"mx-auto h-12 w-12 text-red-400",children:(0,s.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"Error loading routes"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(o.z,{onClick:h,variant:"primary",children:"Try Again"})})]})}):(0,s.jsxs)("div",{className:"container py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Webhook Routes"}),(0,s.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Manage your webhook routes and monitor their performance"})]}),(0,s.jsx)(a.default,{href:"/create",children:(0,s.jsxs)(o.z,{variant:"primary",size:"lg",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Create Route"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Routes"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Routes"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>e.enabled).length})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"1,234"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"98.5%"})]})]})})]}),0===e.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:(0,s.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No routes yet"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first webhook route."}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(a.default,{href:"/create",children:(0,s.jsxs)(o.z,{variant:"primary",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Create your first route"]})})})]}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,s.jsx)(u,{route:e,onDelete:()=>m(e.id)},e.id))})]})}},8711:function(e,t,r){"use strict";r.d(t,{C:function(){return a}});var s=r(7437);r(2265);var n=r(2746);let a=e=>{let{children:t,variant:r="default",size:a="md",className:i}=e;return(0,s.jsx)("span",{className:(0,n.cn)("inline-flex items-center rounded-full font-medium",{default:"bg-gray-100 text-gray-800",success:"bg-success-100 text-success-800",warning:"bg-warning-100 text-warning-800",error:"bg-error-100 text-error-800",info:"bg-primary-100 text-primary-800"}[r],{sm:"px-2 py-1 text-xs",md:"px-2.5 py-1.5 text-sm"}[a],i),children:t})}},6334:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(7437),n=r(2265),a=r(2746);let i=n.forwardRef((e,t)=>{let{className:r,variant:n="primary",size:i="md",isLoading:l=!1,children:o,disabled:c,...d}=e;return(0,s.jsxs)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500",secondary:"bg-gray-900 text-white hover:bg-gray-800 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus-visible:ring-gray-500",ghost:"text-gray-700 hover:bg-gray-100 focus-visible:ring-gray-500",danger:"bg-error-600 text-white hover:bg-error-700 focus-visible:ring-error-500"}[n],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"}[i],r),ref:t,disabled:c||l,...d,children:[l&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})});i.displayName="Button"},757:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return a},aY:function(){return o},ll:function(){return l}});var s=r(7437);r(2265);var n=r(2746);let a=e=>{let{children:t,className:r,variant:a="default"}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-lg p-6",{default:"bg-white border border-gray-200",elevated:"bg-white shadow-lg border border-gray-100",outlined:"bg-white border-2 border-gray-300"}[a],r),children:t})},i=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,n.cn)("mb-4 pb-4 border-b border-gray-200",r),children:t})},l=e=>{let{children:t,className:r}=e;return(0,s.jsx)("h3",{className:(0,n.cn)("text-lg font-semibold text-gray-900",r),children:t})},o=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,n.cn)("",r),children:t})}},1900:function(e,t,r){"use strict";r.d(t,{DQ:function(){return l},ot:function(){return a},qW:function(){return i},sQ:function(){return n}});let s=r(3464).Z.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"},timeout:1e4}),n=async()=>{try{var e;let t=await s.get("/api/routes");return(null===(e=t.data)||void 0===e?void 0:e.data)||[]}catch(e){return console.error("Error fetching routes:",e),[]}},a=async e=>{var t;return null===(t=(await s.post("/api/routes",e)).data)||void 0===t?void 0:t.data},i=async e=>{await s.delete("/api/routes/".concat(e))},l=async e=>{try{var t;let r=await s.get("/api/routes/".concat(e,"/logs"));return(null===(t=r.data)||void 0===t?void 0:t.data)||[]}catch(e){return console.error("Error fetching route logs:",e),[]}}},2746:function(e,t,r){"use strict";r.d(t,{EB:function(){return h},MG:function(){return c},SY:function(){return l},cn:function(){return a},fq:function(){return u},jx:function(){return o},p6:function(){return i},rV:function(){return m},vQ:function(){return d}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){let t=new Date(e),r=new Date().getTime()-t.getTime(),s=Math.floor(r/6e4),n=Math.floor(r/36e5),a=Math.floor(r/864e5);return s<1?"just now":s<60?"".concat(s,"m ago"):n<24?"".concat(n,"h ago"):a<7?"".concat(a,"d ago"):i(e)}function o(e){switch(e.toLowerCase()){case"typeform":return"\uD83D\uDCDD";case"tally":return"\uD83D\uDCCA";case"paperform":return"\uD83D\uDCCB";default:return"\uD83D\uDCC4"}}function c(e){switch(e.toLowerCase()){case"sheets":return"\uD83D\uDCC8";case"notion":return"\uD83D\uDCDA";case"digest":return"✉️";default:return"\uD83C\uDFAF"}}async function d(e){try{return await navigator.clipboard.writeText(e),!0}catch(e){return console.error("Failed to copy to clipboard:",e),!1}}let u=[{value:"equals",label:"Equals"},{value:"not_equals",label:"Not Equals"},{value:"contains",label:"Contains"},{value:"not_contains",label:"Not Contains"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"regex",label:"Regex Match"},{value:"not_regex",label:"Regex Not Match"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_or_equal",label:"Greater Than or Equal"},{value:"less_than_or_equal",label:"Less Than or Equal"},{value:"is_empty",label:"Is Empty"},{value:"is_not_empty",label:"Is Not Empty"}],h=[{value:"typeform",label:"Typeform",icon:"\uD83D\uDCDD"},{value:"tally",label:"Tally",icon:"\uD83D\uDCCA"},{value:"paperform",label:"Paperform",icon:"\uD83D\uDCCB"}],m=[{value:"sheets",label:"Google Sheets",icon:"\uD83D\uDCC8"},{value:"notion",label:"Notion",icon:"\uD83D\uDCDA"},{value:"digest",label:"Email Digest",icon:"✉️"}]}},function(e){e.O(0,[137,464,648,971,117,744],function(){return e(e.s=6109)}),_N_E=e.O()}]);